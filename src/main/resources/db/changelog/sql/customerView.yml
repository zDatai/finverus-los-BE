databaseChangeLog:
  - changeSet:
      id: 1
      author: Udara
      changes:
        - createView:
            remarks: Customer Details View
            replaceIfExists: true
            selectQuery:  SELECT acc.ID,
              acc.TENANT,
              acc.ACCOUNT_NO,
              acc.CUSTOMER_ID,
              acc.CUSTOMER_NAME,
              acc.PRD_ID,
              acc.PRD_CODE,
              acc.PRD_CAT_ID,
              acc.PRD_CAT_CODE,
              acc.ACC_PERSON_TYPE,
              acc.STATUS,
              acc.CREATED_USER,
              acc.CREATED_DATE,
              acc.MODIFIED_USER,
              acc.MODIFIED_DATE,
              acc.VERSION,
              acc.CURRENCY_ID,
              acc.CURRENCY_CODE,
              acc.ACC_OPEN_BRN_ID,
              acc.ACC_OPEN_BRN_DESC,
              acc.ACC_NAME,
              acc.OFFICER_ID,
              acc.KYC_STATUS,
              acc.OPEN_DATE,
              acc.PURPOSE,
              acc.ANTICIPATED_FRQ,
              acc.ANTICIPATED_VAL,
              acc.CRT_BRN_ID,
              acc.CRT_BRN_DESC,
              acc.ACC_TYPE,
              acc.ACC_SUB_TYPE,
              acc.ACC_NICK_NAME,
              acc.STATEMENT_STATS,
              acc.DELIVERY_METHOD,
              acc.ALLOW_MINUS_BAL,
              acc.MAX_OVERDRAFT_LMT,
              acc.ALLOW_INT_ON_OVERDRAFT,
              acc.INT_CAL_START_DATE,
              acc.ENABLE_DISABLE_INT_CAL,
              acc.DEBT_INT_POST_TYP,
              acc.DEBT_INT_POST_ACCNT,
              acc.CRDT_INT_POST_TYP,
              acc.CRDT_INT_POST_ACCNT,
              acc.CHQ_BK_ENABLED,
              acc.NO_OF_CHQS_PER_BK,
              acc.AUTO_CHQ_BK_REQ_ENABLED,
              acc.AUTO_CHQ_BK_REQ_PERIOD,
              acc.AUTO_CHQ_BK_REQ_PERIOD_FRQ,
              acc.RESTRICT_STATS,
              acc.MINOR_ACC_STATS,
              acc.EMAIL_ENABLED,
              acc.SMS_ENABLED,
              acc.CANCEL_DATE,
              acc.CANCEL_USR_ID,
              acc.CANCL_USR_NAME,
              acc.CANCEL_NOTES,
              acc.CANCL_APPRV_USR_ID,
              acc.CANCL_APPRV_USR_NAME,
              acc.CLOSE_DATE,
              acc.CLOSE_USR_ID,
              acc.CLOSE_USR_NAME,
              acc.CLOSE_NOTES,
              acc.CLOSE_APPRV_USR_ID,
              acc.CLOSE_APPRV_USR_NAME,
              acc.BLK_DATE,
              acc.BLK_USR_ID,
              acc.BLK_USR_NAME,
              acc.BLK_NOTES,
              acc.BLK_APPRV_USR_ID,
              acc.BLK_APPRV_USR_NAME,
              acc.REACTIVATED_DATE,
              acc.PRE_REACTIVATE_STATS,
              acc.REACTIVATED_USR_ID,
              acc.REACTIVATED_USR_NAME,
              acc.REACTIVATED_NOTES,
              acc.REACTIVATED_APPRV_USR_ID,
              acc.REACTIVATED_APPRV_USR_NAME,
              acc.DEACTIVATED_DATE,
              acc.PRE_DEACTIVATE_STATS,
              acc.DEACTIVATED_USR_ID,
              acc.DEACTIVATED_USR_NAME,
              acc.DEACTIVATED_NOTES,
              acc.DEACTIVATED_APPRV_USR_ID,
              acc.DEACTIVATED_APPRV_USR_NAME,
              acc.CASCL_DORMNT_DATE,
              acc.CASCL_DORMNT_REV_DATE,
              acc.CASCL_DORMNT_REV_USR_ID,
              acc.CASCL_DORMNT_REV_USR_NAME,
              acc.DORMNT_NOTES,
              acc.CASCL_DORMNT_REV_APPRV_USR_ID,
              acc.CASCL_DORMNT_REV_APPRV_USR_NAME,
              acc.APPROV_DATE,
              acc.APPROV_USR_NAME,
              acc.APPROV_NOTES,
              acc.REJECT_DATE,
              acc.REJECT_USR_NAME,
              acc.REJECT_NOTES,
              acc.STOP_REQ,
              acc.CURRENCY_NUMERIC,
              acc.SUB_PRD_ID,
              acc.SUB_PRD_CODE,
              acc.PURPOSE_ID,
              acc.PRODUCT_GRP,
              acc.OFFICER_NAME,
              acc.MAX_ALLOW_CHEQ_BK_PER_REQ,
              acc.ANTICIPATED_FRQ_ID,
              acc.ANTICIPATED_VAL_ID,
              acc.SECONDARY_IDENTIFICATION,
              acc.SCHM_CODE,
              acc.ACC_SUB_TYPE_DESC,
              acc.ATM_ENABLED,
              acc.CASCL_DORMNT_REV_APPRV_DATE,
              acc.STOP_PAYMENT_CREATE_USER,
              acc.STOP_PAYMENT_CREATE_DATE,
              acc.STOP_PAY_CREATE_APPROVE_USER,
              acc.STOP_PAY_CREATE_APPROVE_DATE,
              acc.STOP_PAYMENT_REVERSAL_CREATE_USER,
              acc.STOP_PAYMENT_REVERSAL_CREATE_DATE,
              acc.STOP_PAYMENT_REVERSAL_APPROVED_USER,
              acc.STOP_PAYMENT_REVERSAL_APPROVED_DATE,
              acc.STOP_PAYMENT_CREATE_NOTES,
              acc.STOP_PAYMENT_REVERSAL_NOTES,
              acc.CASCL_REACTIVATE_APPRV_DATE,
              acc.CASCL_DEACTIVATE_APPRV_DATE,
              acc.CASCL_BLOCK_APPRV_DATE,
              acc.SPECIAL_INT_RATE,
              acc.SPECIAL_RATE_STATUS,
              acc.BLOCK_REVERSAL_CREATE_USER,
              acc.BLOCK_REVERSAL_CREATE_DATE,
              acc.BLOCK_REVERSAL_APPROVED_USER,
              acc.BLOCK_REVERSAL_APPROVED_DATE,
              acc.BUFFER_AMOUNT,
              acc.RECOVERY_PERCENTAGE,
              acc.ACCOUNT_DESCRIPTION,
              acc.CUSTOMER_VISIT_REQUIRED,
              acc.NO_OF_VISIT_PER_PERIOD,
              acc.BALANCE_RESTRICTED_STATUS,
              acc.OTHER_CURRENCY_TRANSACTION_ALLOWED,
              acc.DEACTIVATION_TYPE,
              acc.ACC_OPEN_ORG_LEVEL_ID,
              acc.ACC_OPEN_ORG_LEVEL_NAME,
              acc.ACC_CREATED_ORG_LEVEL_ID,
              acc.ACC_CREATED_ORG_LEVEL_NAME,
              acc.SPECIAL_RATE_APPROVED_USER,
              acc.SPECIAL_RATE_APPROVED_DATE,
              acc.SPECIAL_RATE_NOTES,
              acc.SWEEPING_ENABLED,
              acc.SWEEPING_LIMIT,
              acc.MIN_AMOUNT_FOR_SWEEPING,
              acc.PERIOD_METHOD,
              acc.REVERSAL_LIMIT,
              acc.RECURRING_SWEEPING_ALLOWED,
              acc.OWNERSHIP_TYP,
              acc.CHEQUE_TYPE_ID,
              acc.CHEQUE_BOOK_TYPE_ID,
              acc.CHEQUE_BOOK_STOCK_TYPE_ID,
              acc.PRODUCT_TYPE,
              acc.CLOSE_APPRV_DATE,
              acc.CLOSE_CREATE_DATE,
              acc.CLOSE_CREATE_USER,
              acc.CLOSE_CANCEL_DATE,
              acc.CLOSE_CANCEL_USER,
              acc_close.ID ACL_ID,
              acc_close.BALANCE_AMOUNT ACL_BALANCE_AMOUNT,
              acc_close.ACTUAL_AMOUNT ACL_ACTUAL_AMOUNT,
              acc_close.INTEREST_AMOUNT ACL_INTEREST_AMOUNT,
              acc_close.TOTAL_TAX_AMOUNT ACL_TOTAL_TAX_AMOUNT,
              acc_close.TOTAL_CHARGE_AMOUNT ACL_TOTAL_CHARGE_AMOUNT,
              acc_close.REMARK ACL_REMARK,
              acc_close.STATUS ACL_STATUS,
              acc_close.ACCOUNT_CLOSE_CREATED_USER ACL_ACCOUNT_CLOSE_CREATED_USER,
              acc_close.ACCOUNT_CLOSE_CREATED_DATE ACL_ACCOUNT_CLOSE_CREATED_DATE,
              acc_close.ACCOUNT_CLOSE_CANCELLED_USER ACL_ACCOUNT_CLOSE_CANCELLED_USER,
              acc_close.ACCOUNT_CLOSE_CANCELLED_DATE ACL_ACCOUNT_CLOSE_CANCELLED_DATE,
              acc_close.FINAL_WITH_APPROVAL_USER ACL_FINAL_WITH_APPROVAL_USER,
              acc_close.FINAL_WITH_APPROVAL_DATE ACL_FINAL_WITH_APPROVAL_DATE,
              acc_close.ACCOUNT_CLOSE_USER ACL_ACCOUNT_CLOSE_USER,
              acc_close.ACCOUNT_CLOSE_DATE ACL_ACCOUNT_CLOSE_DATE
              FROM account acc LEFT join account_close_det acc_close on acc.id=acc_close.account_no_id AND  acc_close.status <> 'CLOSE_CANCELLED'
            viewName: view_account